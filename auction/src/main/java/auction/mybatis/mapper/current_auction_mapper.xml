<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="auction.repository.auction.current.CurrentDaoImpl">
	<!-- 진행경매 개요 조회 -->
	<select id="currentAuction" resultType="auction">
		select * from auction where auction_no=41
	</select>
	
	<!-- 진행경매 출품목록 조회 -->
	<select id="currentList" resultType="current">
		select rownum lot, tmp.* from(
					select * from auction_view
		)tmp where no=41 order by lot desc
	</select>
	
	<!-- 진행경매 출품목록 검색 -->	
	<select id="currentSearch" resultType="current" parameterType="search">
		select * from(
			select rownum as lot, tmp.* from(
				select * from auction_view
			)tmp 
		)where artist like '%'||#{artist}||'%' or title like '%'||#{title}||'%' or lot=#{lot}
	</select>
</mapper>


